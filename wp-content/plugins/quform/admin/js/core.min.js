var quform=function(n,a,i){"use strict";var o,s,r=[],t={},c=a(document),d=null;function l(n,e){var t;n.click(function(){return t||((t=wp.media(e.mediaOptions)).on("select",function(){e.callback.apply(this,[t.state().get("selection")])}),t.on("close",function(){e.onClose.apply(this)})),e.onOpen.apply(this),t.open(),!1})}function e(){this.items={}}return o={settingWrap:".qfb-setting",settingInputWrap:".qfb-setting-input",subSettingWrap:".qfb-sub-setting",subSettingInputWrap:".qfb-sub-setting-input",init:function(){(s=a('<div class="qfb-fixed-message"><div><div class="qfb-fixed-message-content"></div><span class="qfb-fixed-message-close"><i class="mdi mdi-close"></i></span></div></div>')).find(".qfb-fixed-message-close").click(function(){s.fadeOut("fast",function(){s.detach()})}),o.initNavPopups()},initNavPopups:function(){var e=a(".qfb-nav-popup-trigger"),t="qfb-nav-popup-open",i=function(n){(n?e.not(n):e).removeClass(t).siblings(".qfb-nav-popup-content").hide()};e.each(function(){var e=a(this),n=e.siblings(".qfb-nav-popup-content");e.click(function(){i(e);var n=e.hasClass(t);e[n?"removeClass":"addClass"](t).siblings(".qfb-nav-popup-content")[n?"hide":"show"]()}),e.add(n).click(o.stopPropagation)}),c.on("click",function(n){n&&n.which&&3===n.which||i()})},stopPropagation:function(n){n.stopPropagation()},preLoadImages:function(n,e){for(var t=0;t<n.length;t++){var i=new Image;i.src=e?e+n[t]:n[t],r.push(i)}},showFixedMessage:function(n,e,t,i){"number"==typeof d&&(clearTimeout(d),d=null),void 0===t&&(t="success"==e?4e3:0),void 0===i&&(i=0==t),s.find(".qfb-fixed-message-content").html(n),s.find(".qfb-fixed-message-close")[i?"show":"hide"](),s.stop(!0,!0).appendTo(o.cache.get("body")).css({display:"block",opacity:0,right:-s.width()}).attr("class","qfb-fixed-message").addClass("qfb-fixed-"+e+"-message").animate({opacity:1,right:0}),t&&(d=setTimeout(function(){s.fadeOut(function(){s.detach()})},t))},sanitizeResponse:function(n){return null!==n&&"object"==typeof n&&"string"==typeof n.type&&0!==n.type.length||(n={type:"invalid",message:"The response from the server was invalid or malformed"}),n},sanitiseResponse:function(n){return o.sanitizeResponse(n)},isValidEmail:function(n){return new RegExp("^[A-Za-z0-9!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9-]+(.[A-Za-z0-9-]+)*$").test(n)},addValidationError:function(n,e){var t=a('<div class="qfb-validation-error">').append(a('<div class="qfb-validation-error-inner">').html(e));return n.append(t),t.qfbSlideShow(),t},addSubmissionError:function(n,e){var t=a('<div class="qfb-submission-error">').append(a('<div class="qfb-submission-error-inner">').html(e));return n.prepend(t),t.qfbSlideShow(),t},addSubmissionSuccess:function(n,e){var t=a('<div class="qfb-submission-success">').append(a('<div class="qfb-submission-success-inner">').html(e));return n.prepend(t),t.qfbSlideShow(),t},log:function(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)},addAction:function(n,e){"string"==typeof n||n.length||"function"==typeof e?("undefined"==typeof t[n]&&(t[n]=[]),t[n].push(e)):o.log("Invalid arguments for addAction, aborting")},doAction:function(n){if("string"==typeof n||n.length){if("undefined"!=typeof t[n])for(var e=0;e<t[n].length;e++)t[n][e].apply(t[n][e],arguments.splice(1))}else o.log("Invalid argument for doAction, aborting")},getProperty:function(n,e,t){for(var i=e.split("."),o=i.length,s=0,r=n;s<o;s++){if("undefined"===a.type(r[i[s]])){r=undefined;break}r=r[i[s]]}return"undefined"===a.type(r)?t:r},scrollTo:function(n,e,t){a.isFunction(a.scrollTo)&&a.isFunction(a.fn.scrollTo)&&n&&0!==n.length&&(t=a.extend({},{duration:400,offset:-50,axis:"y"},t),e?o.isScrolledIntoView(n,e)||e.scrollTo(n,t):o.isScrolledIntoView(n)||a.scrollTo(n,t))},isScrolledIntoView:function(n,e){if(e){var t=e.outerHeight(),i=(o=n.position().top)+n.outerHeight(!0);return 0<o&&i<t}var o,i,s=a(window).scrollTop(),r=s+a(window).height();return s<=(i=(o=n.offset().top)+n.height())&&o<=r&&i<=r&&s<=o},setSelectVal:function(n,e){return n.val(e),null===n.val()&&n.prop("selectedIndex",0),n},toString:function(n){return n===undefined||null===n?"":""+n},isNonEmptyString:function(n){return"string"==typeof n&&0<n.length},isNonEmptyObject:function(n){for(var e in n)if(n.hasOwnProperty(e))return!0;return!1},clamp:function(n,e,t){return Math.min(Math.max(n,e),t)},htmlEntities:function(n){return a("<div>").text(n).html()},htmlEntityDecode:function(n){return a("<div>").html(n).text()},isColorTransparent:function(n){if(!o.isNonEmptyString(n))return!0;if("transparent"==n)return!0;var e=/rgba\((.+)\)/gi.exec(n);if(e){var t=e[1].split(",");return 4==t.length&&0===parseFloat(t[3])}return!1}},a.fn.qfbMediaBrowser=function(n){var e={mediaOptions:{title:i.selectImage,button:{text:i.select},multiple:!1},callback:a.noop,onOpen:a.noop,onClose:a.noop},t=a.extend(!0,{},e,n);return this.each(function(){var n=a(this);n.data("qfbMediaBrowser")||n.data("qfbMediaBrowser",new l(n,t))})},a.fn.extend({qfbSlideHide:function(n,e){var t={height:"hide",opacity:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},i={duration:400};return n&&(i.complete=n),e&&(t=a.extend(t,e)),this.animate(t,i)},qfbSlideShow:function(n,e){var t={height:"show",opacity:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},i={duration:400};return n&&(i.complete=n),e&&(t=a.extend(t,e)),this.animate(t,i)}}),e.prototype.get=function(n){return this.items[n]===undefined&&(this.items[n]=a(n)),this.items[n]},o.cache=new e,a(o.init),n.core=o,n}(quform||{},jQuery,quformCoreL10n);