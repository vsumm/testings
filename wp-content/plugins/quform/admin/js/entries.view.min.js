var quform=function(i,e,n,t){"use strict";var o=i.core,s=o.cache,c=e(document),r=!1,f={init:function(){s.get("#qfb-entry-show-empty-fields").click(function(){e(this).is(":checked")?Cookies.set("qfb-show-empty-fields","1",{expires:3650}):Cookies.remove("qfb-show-empty-fields"),window.location.reload()}),s.get("#qfb-show-resend-notifications").click(function(){s.get("#qfb-resend-notifications").show()}),s.get("#qfb-resend-notifications").find(".qfb-popup-close-button, .qfb-popup-overlay").click(f.closeResendNotificationsPopup),s.get("#qfb-resend-notifications-button").click(function(){f.validateResendNotifications()&&f.resendNotifications()}),s.get("#qfb-resend-notifications-identifier-select-all").click(function(){s.get(".qfb-resend-notifications-identifier").prop("checked",this.checked)}),s.get(".qfb-resend-notifications-identifier").click(function(){s.get("#qfb-resend-notifications-identifier-select-all").prop("checked",!1)}),c.on("heartbeat-tick",function(i,e){e&&e.nonces_expired&&e.quformResendNotificationsNonce&&n.resendNotificationsNonce!==e.quformResendNotificationsNonce&&(n.resendNotificationsNonce=e.quformResendNotificationsNonce)})},closeResendNotificationsPopup:function(){s.get("#qfb-resend-notifications").hide(),f.clearValidationMessages()},getSelectedNotificationIdentifiers:function(){var i=[];return s.get(".qfb-resend-notifications-identifier").each(function(){e(this).is(":checked")&&i.push(e(this).val())}),i},clearValidationMessages:function(){s.get("#qfb-resend-notifications").find(".qfb-submission-error, .qfb-submission-success, .qfb-validation-error").remove()},validateResendNotifications:function(){if(f.clearValidationMessages(),0!==f.getSelectedNotificationIdentifiers().length)return!0;var i=s.get("#qfb-resend-notifications-identifiers");return o.addValidationError(i,t.thisFieldIsRequired),o.scrollTo(i,s.get("#qfb-resend-notifications-inner")),!1},resendNotifications:function(){r||(r=!0,s.get("#qfb-resend-notifications-loading").css({opacity:1}),e.ajax({type:"POST",url:t.ajaxUrl,data:{action:"quform_resend_notifications",_ajax_nonce:n.resendNotificationsNonce,data:JSON.stringify({eid:s.get("#qfb-resend-notifications").data("eid"),identifiers:f.getSelectedNotificationIdentifiers()})},dataType:"json"}).done(function(i){var t;"success"===(i=o.sanitizeResponse(i)).type?o.addSubmissionSuccess(s.get("#qfb-resend-notifications").find(".qfb-settings"),i.message):(t=[],i.message&&t.push(o.addSubmissionError(s.get("#qfb-resend-notifications").find(".qfb-settings"),i.message)),i.errors&&e.each(i.errors,function(i,e){var n=s.get("#"+i);o.addValidationError(n,e),t.push(n)}),t.length&&o.scrollTo(t[0],s.get("#qfb-resend-notifications-inner")))}).fail(function(){o.scrollTo(o.addSubmissionError(s.get("#qfb-resend-notifications").find(".qfb-settings"),t.ajaxError),s.get("#qfb-resend-notifications-inner"))}).always(function(){r=!1,s.get("#qfb-resend-notifications-loading").css({opacity:0})}))}};return e(f.init),i.entries=i.entries||{},i.entries.view=f,i}(quform,jQuery,quformEntriesViewL10n,quformCoreL10n);